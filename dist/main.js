(()=>{"use strict";function e(){var e=["/dist/images/ashim-d-silva-WeYamle9fDM-unsplash.jpg","/dist/images/buzz-andersen-E4944K_4SvI-unsplash.jpg","/dist/images/daniel-tong-dxYdPSuBr-U-unsplash.jpg","/dist/images/stephen-leonardi-eSNjFDbw_i4-unsplash.jpg","/dist/images/maud-bocquillod-bj7EB5my6og-unsplash.jpg","/dist/images/john-fowler-9qgKQewttVs-unsplash.jpg"];return e[Math.floor(Math.random()*e.length)]}function t(e){let t=document.querySelectorAll(".active");for(var a=0;a<t.length;a++)t[a].className=t[a].className.replace("active","");console.log(e.target)}document.querySelector("section").style.backgroundImage="url('"+e()+"')",document.getElementById("project-tab").addEventListener("click",t,!1);const a=(()=>{const e=document.getElementById("newProjectForm");class t{constructor(e,t,a,s){this.title=e,this.date=t,this.priority=a,this.done=s}}class a{static getTasks(){var e;return null===localStorage.getItem("tasks")?e=[]:(e=JSON.parse(localStorage.getItem("tasks")),console.log(e)),e}static addTasks(e){var t=a.getTasks();t.push(e),localStorage.setItem("tasks",JSON.stringify(t))}static removeTasksFromStorage(e){var t=a.getTasks();t.forEach(((a,s)=>{a.item===e?t.splice(s,1):localStorage.setItem("tasks",JSON.stringify(t))})),localStorage.setItem("tasks",JSON.stringify(t))}}class s{static displayTasks(){a.getTasks().forEach((e=>s.createTasks(e)))}static createTasks(e){var t=document.getElementById("task"),a=document.createElement("tr");a.innerHTML=`\n            <td>${e.title}</td>\n            <td>${e.date}</td>\n            <td>${e.priority}</td>\n            <td><a href="#" class="doneBtn">${e.done}</a></td>\n            <td><a href="#" class="remove">Remove</a></td>`,t.appendChild(a)}static showAlert(e,t){var a=document.createElement("div");a.className=`${t}`,a.appendChild(document.createTextNode(e));var s=document.getElementById("newProjectForm"),o=document.getElementById("form-label");s.insertBefore(a,o),setTimeout((()=>document.querySelector(".validate").remove()),5e3),setTimeout((()=>document.querySelector(".success").remove()),5e3)}static showTaskRemoved(e,t){var a=document.createElement("div");a.className=`${t}`,a.appendChild(document.createTextNode(e));var s=document.getElementById("task-container"),o=document.querySelector(".todo-container");s.insertBefore(a,o),setTimeout((()=>document.querySelector(".task-removed").remove()),5e3)}static changeDone(e){e.target.classList.contains("doneBtn")&&("true"==e.target.innerHTML?e.target.innerHTML="false":e.target.innerHTML="true")}static removeTask(e){e.target.classList.contains("remove")&&(e.target.parentElement.parentElement.remove(),s.showTaskRemoved("Task Removed","task-removed"))}static clearForm(){document.getElementById("title").value=" ",document.getElementById("date").value=" ",document.getElementById("priority").value=" ",document.getElementById("done").value=!1}}document.addEventListener("DOMContentLoaded",s.displayTasks),e.addEventListener("submit",(e=>{e.preventDefault();var o=document.getElementById("title").value,r=document.getElementById("date").value,n=document.getElementById("priority").value,l=document.getElementById("done").value,c=new Date;if(c.setHours(0,0,0,0),""===o||""===r||""===n)s.showAlert("Please fill in all fields.","validate");else if(new Date(r)<c)s.showAlert("This date has already passed! Please enter another date.","validate");else{var d=new t(o,r,n,l);console.log(d),s.createTasks(d),a.addTasks(d),s.showAlert("Success!","success"),s.clearForm()}})),document.getElementById("task").addEventListener("click",(e=>{s.changeDone(e)})),document.getElementById("task").addEventListener("click",(e=>{s.removeTask(e),a.removeTasksFromStorage()}));var o=document.getElementById("done");return o.addEventListener("change",(e=>{e.target.checked?(o.value=!0,console.log("True!")):(o.value=!1,console.log("False!"))})),{Task:t,Storage:a,EventHandler:s}})();!function(){let e=document.getElementsByClassName("add-modal");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){document.getElementById(this.dataset.modal).classList.toggle("show-modal")}),!1)}(),function(){let e=document.getElementsByClassName("close-modal");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){document.querySelector(".show-modal").classList.toggle("show-modal")}),!1)}(),e(),t(),a(),(()=>{const e=document.getElementById("projectForm");class t{constructor(e){this.title=e}}class a{static getProjects(){var e;return null===localStorage.getItem("projects")?e=[]:(e=JSON.parse(localStorage.getItem("projects")),console.log(e)),e}static addProjects(e){var t=a.getProjects();t.push(e),localStorage.setItem("projects",JSON.stringify(t))}static removeProjectsFromStorage(e){var t=a.getProjects();t.forEach(((a,s)=>{a.item===e?t.splice(s,1):localStorage.setItem("projects",JSON.stringify(t))})),localStorage.setItem("projects",JSON.stringify(t))}}class s{static displayProjects(){a.getProjects().forEach((e=>s.createProjects(e)))}static createProjects(e){var t=document.getElementById("project"),a=document.createElement("tr");a.innerHTML=`\n            <td>${e.title}</td>\n            <td><a href="#" class="remove"><img src="/dist/images/delete-circle-outline.svg" alt="add"></a></td>`,t.appendChild(a)}static showAlert(e,t){var a=document.createElement("div");a.className=`${t}`,a.appendChild(document.createTextNode(e));var s=document.getElementById("projectForm"),o=document.getElementById("form-title");s.insertBefore(a,o),setTimeout((()=>document.querySelector(".validate").remove()),5e3),setTimeout((()=>document.querySelector(".success").remove()),5e3)}static showTaskRemoved(e,t){var a=document.createElement("div");a.className=`${t}`,a.appendChild(document.createTextNode(e));var s=document.getElementById("sidebar"),o=document.querySelector(".new-list-container");s.insertBefore(a,o),setTimeout((()=>document.querySelector(".task-removed").remove()),5e3)}static removeProject(e){e.preventDefault(),e.target.classList.contains("remove")&&(e.target.parentElement.parentElement.remove(),s.showTaskRemoved("Task Removed","task-removed"))}static clearForm(){document.getElementById("title").value=" "}}document.addEventListener("DOMContentLoaded",s.displayProjects),e.addEventListener("submit",(e=>{e.preventDefault();var o=document.getElementById("title").value;if(""===o)s.showAlert("Please fill in all fields.","validate");else{var r=new t(o);console.log(r),s.createProjects(r),a.addProjects(r),s.showAlert("Success!","success"),s.clearForm()}})),document.getElementById("project").addEventListener("click",(e=>{s.removeProject(e),a.removeProjectsFromStorage()}))})()})();